{"version":3,"sources":["../node_modules/.pnpm/use-debounce@10.0.4_react@19.0.0/node_modules/use-debounce/src/useDebouncedCallback.ts","../node_modules/.pnpm/use-debounce@10.0.4_react@19.0.0/node_modules/use-debounce/src/useDebounce.ts","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/.pnpm/@babel+runtime@7.26.0/node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/.pnpm/react-syntax-highlighter@15.6.1_react@19.0.0/node_modules/react-syntax-highlighter/dist/esm/create-element.js","../src/CodeBlock.tsx","../node_modules/.pnpm/dequal@2.0.3/node_modules/dequal/dist/index.mjs","../src/constants.ts","../src/styles.tsx","../src/SaveStory.tsx","../src/codegen/args-to-string.ts","../src/codegen/combine-interactions.ts","../src/codegen/interactions-to-code.ts","../src/state.ts","../src/InteractionRecorder.tsx","../src/manager.tsx"],"names":["useDebouncedCallback","func","wait","options","_this","this","lastCallTime","useRef","lastInvokeTime","timerId","lastArgs","lastThis","result","funcRef","mounted","current","isClientSide","window","useRAF","TypeError","leading","trailing","maxing","debounceOnServer","maxWait","Math","max","useEffect","debounced","useMemo","invokeFunc","time","args","thisArg","apply","startTimer","pendingFunc","cancelAnimationFrame","requestAnimationFrame","setTimeout","shouldInvoke","timeSinceLastCall","trailingEdge","timerExpired","Date","now","timeWaiting","remainingWait","min","isInvoking","slice","call","arguments","cancel","clearTimeout","isPending","flush","valueEquality","left","right","useDebounce","value","delay","eq","activeValue","forceUpdate","useState","useCallback","previousValue","_typeof","o","toPrimitive","r","e","i","toPropertyKey","_defineProperty","t","_extends","n","ownKeys","_objectSpread","powerSetPermutations","arr","arrLength","classNameCombinations","getClassNameCombinations","classNames","key","createStyleObject","elementStyle","stylesheet","nonTokenClassNames","className","classNamesCombinations","styleObject","createClassNameString","createChildren","useInlineStyles","childrenCount","children","child","createElement","_ref","node","_ref$style","style","properties","type","TagName","childrenCreator","props","allStylesheetSelectors","classes","selector","startingClassName","React","Container","styled","theme","Label","isSticky","Code","CopyIconContainer","WarningButton","IconButton","WarningIcon","AlertIcon","CodeBlock","name","codeLines","isCopied","setIsCopied","copiedTimeoutId","setCopiedTimeoutId","splitCodeLines","line","text","index","code","WithTooltip","TooltipNote","CheckIcon","CopyIcon","SyntaxHighlighter","rows","row","warning","warningIcon","WarningIndicator","Title","Desc","Message","warningToRender","title","description","has","find","iter","tar","dequal","foo","bar","ctor","len","tmp","ADDON_ID","PANEL_ID","IS_RECORDING_KEY","IS_ASSERTING_KEY","EVENTS","ContentWrapper","SubnavWrapper","StyledSubnav","StyledButton","Button","StyledButtonBigContent","isHidden","StyledButtonSmallContent","AssertionButton","isAsserting","DisabledButton","SavedButton","Group","EmptyStateDescription","RecordIcon","isRecording","CodeBlocksWrapper","SaveContainer","SaveIconColorful","SaveInput","Form","RotatingIcon","SyncIcon","StyledCheckIcon","ErrorButton","ErrorIcon","CrossIcon","AssertIcon","AddIcon","stringifyArgs","_","SaveStoryButton","turnOffRecording","api","useStorybookApi","setName","state","setState","storyData","saveStory","payload","acc","channel","newStoryId","experimental_requestResponse","trySelectNewStory","ex","isDevelopment","selectStory","storyId","attempt","resolve","argsToString","arg","wrapInQuotes","item","str","combineInteractions","interaction","existingInteractions","clicksRemoved","prevInteraction","isNotType","isShiftKey","isSameElementQuery","hasShift","tabKeydownIndex","a","b","EVENT_TO_USER_EVENT","convertInteractionsToCode","interactions","hasTypescript","usesBody","usesCanvas","needsExpect","event","queryString","asElementPostfix","getQueryString","assertCode","beginning","assertion","valueStr","option","file","importNames","play","tab","codeLine","query","asElement","queryStringWithoutAsElement","useInteractions","useAddonState","useIsRecording","globals","setGlobals","useGlobals","useIsAsserting","isAssertionMode","InteractionRecorder","setInteractions","setIsRecording","setIsAsserting","useChannel","prevInteractions","toggleRecording","toggleAsserting","resetInteractions","ext","debouncedInteractions","containerRef","codeBlocksRef","isScrolledToBottom","setIsScrolledToBottom","useLayoutEffect","element","observer","Bar","DeleteIcon","scrollTop","scrollHeight","clientHeight","EmptyTabContent","Spaced","Badge","addons","data","story","types","viewMode","active","AddonPanel"],"mappings":"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","file":"manager.js","sourcesContent":["import { useRef, useEffect, useMemo } from 'react';\n\nexport interface CallOptions {\n  /**\n   * Controls if the function should be invoked on the leading edge of the timeout.\n   */\n  leading?: boolean;\n  /**\n   * Controls if the function should be invoked on the trailing edge of the timeout.\n   */\n  trailing?: boolean;\n}\n\nexport interface Options extends CallOptions {\n  /**\n   * The maximum time the given function is allowed to be delayed before it's invoked.\n   */\n  maxWait?: number;\n  /**\n   * If the setting is set to true, all debouncing and timers will happen on the server side as well\n   */\n  debounceOnServer?: boolean;\n}\n\nexport interface ControlFunctions<ReturnT> {\n  /**\n   * Cancel pending function invocations\n   */\n  cancel: () => void;\n  /**\n   * Immediately invoke pending function invocations\n   */\n  flush: () => ReturnT | undefined;\n  /**\n   * Returns `true` if there are any pending function invocations\n   */\n  isPending: () => boolean;\n}\n\n/**\n * Subsequent calls to the debounced function return the result of the last func invocation.\n * Note, that if there are no previous invocations you will get undefined. You should check it in your code properly.\n */\nexport interface DebouncedState<T extends (...args: any) => ReturnType<T>>\n  extends ControlFunctions<ReturnType<T>> {\n  (...args: Parameters<T>): ReturnType<T> | undefined;\n}\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn.\n *\n * The debounced function comes with a `cancel` method to cancel delayed `func`\n * invocations and a `flush` method to immediately invoke them.\n *\n * Provide `options` to indicate whether `func` should be invoked on the leading\n * and/or trailing edge of the `wait` timeout. The `func` is invoked with the\n * last arguments provided to the debounced function.\n *\n * Subsequent calls to the debounced function return the result of the last\n * `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available, otherwise it will be setTimeout(...,0)).\n * @param {Object} [options={}] The options object.\n *  Controls if `func` should be invoked on the leading edge of the timeout.\n * @param {boolean} [options.leading=false]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {number} [options.maxWait]\n *  Controls if `func` should be invoked the trailing edge of the timeout.\n * @param {boolean} [options.trailing=true]\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * const resizeHandler = useDebouncedCallback(calculateLayout, 150);\n * window.addEventListener('resize', resizeHandler)\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * const clickHandler = useDebouncedCallback(sendMail, 300, {\n *   leading: true,\n *   trailing: false,\n * })\n * <button onClick={clickHandler}>click me</button>\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = useDebouncedCallback(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * source.addEventListener('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * window.addEventListener('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.pending() ? \"Pending...\" : \"Ready\"\n */\nexport default function useDebouncedCallback<\n  T extends (...args: any) => ReturnType<T>,\n>(func: T, wait?: number, options?: Options): DebouncedState<T> {\n  const lastCallTime = useRef(null);\n  const lastInvokeTime = useRef(0);\n  const timerId = useRef(null);\n  const lastArgs = useRef<unknown[]>([]);\n  const lastThis = useRef<unknown>();\n  const result = useRef<ReturnType<T>>();\n  const funcRef = useRef(func);\n  const mounted = useRef(true);\n  // Always keep the latest version of debounce callback, with no wait time.\n  funcRef.current = func;\n\n  const isClientSide = typeof window !== 'undefined';\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF = !wait && wait !== 0 && isClientSide;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  wait = +wait || 0;\n  options = options || {};\n\n  const leading = !!options.leading;\n  const trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n  const maxing = 'maxWait' in options;\n  const debounceOnServer =\n    'debounceOnServer' in options ? !!options.debounceOnServer : false; // `false` by default\n  const maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  // You may have a question, why we have so many code under the useMemo definition.\n  //\n  // This was made as we want to escape from useCallback hell and\n  // not to initialize a number of functions each time useDebouncedCallback is called.\n  //\n  // It means that we have less garbage for our GC calls which improves performance.\n  // Also, it makes this library smaller.\n  //\n  // And the last reason, that the code without lots of useCallback with deps is easier to read.\n  // You have only one place for that.\n  const debounced = useMemo(() => {\n    const invokeFunc = (time: number) => {\n      const args = lastArgs.current;\n      const thisArg = lastThis.current;\n\n      lastArgs.current = lastThis.current = null;\n      lastInvokeTime.current = time;\n      return (result.current = funcRef.current.apply(thisArg, args));\n    };\n\n    const startTimer = (pendingFunc: () => void, wait: number) => {\n      if (useRAF) cancelAnimationFrame(timerId.current);\n      timerId.current = useRAF\n        ? requestAnimationFrame(pendingFunc)\n        : setTimeout(pendingFunc, wait);\n    };\n\n    const shouldInvoke = (time: number) => {\n      if (!mounted.current) return false;\n\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (\n        !lastCallTime.current ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    };\n\n    const trailingEdge = (time: number) => {\n      timerId.current = null;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs.current) {\n        return invokeFunc(time);\n      }\n      lastArgs.current = lastThis.current = null;\n      return result.current;\n    };\n\n    const timerExpired = () => {\n      const time = Date.now();\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // https://github.com/xnimorz/use-debounce/issues/97\n      if (!mounted.current) {\n        return;\n      }\n      // Remaining wait calculation\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n      const timeWaiting = wait - timeSinceLastCall;\n      const remainingWait = maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n\n      // Restart the timer\n      startTimer(timerExpired, remainingWait);\n    };\n\n    const func: DebouncedState<T> = (...args: Parameters<T>): ReturnType<T> => {\n      if (!isClientSide && !debounceOnServer) {\n        return;\n      }\n      const time = Date.now();\n      const isInvoking = shouldInvoke(time);\n\n      lastArgs.current = args;\n      lastThis.current = this;\n      lastCallTime.current = time;\n\n      if (isInvoking) {\n        if (!timerId.current && mounted.current) {\n          // Reset any `maxWait` timer.\n          lastInvokeTime.current = lastCallTime.current;\n          // Start the timer for the trailing edge.\n          startTimer(timerExpired, wait);\n          // Invoke the leading edge.\n          return leading ? invokeFunc(lastCallTime.current) : result.current;\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime.current);\n        }\n      }\n      if (!timerId.current) {\n        startTimer(timerExpired, wait);\n      }\n      return result.current;\n    };\n\n    func.cancel = () => {\n      if (timerId.current) {\n        useRAF\n          ? cancelAnimationFrame(timerId.current)\n          : clearTimeout(timerId.current);\n      }\n      lastInvokeTime.current = 0;\n      lastArgs.current =\n        lastCallTime.current =\n        lastThis.current =\n        timerId.current =\n          null;\n    };\n\n    func.isPending = () => {\n      return !!timerId.current;\n    };\n\n    func.flush = () => {\n      return !timerId.current ? result.current : trailingEdge(Date.now());\n    };\n\n    return func;\n  }, [\n    leading,\n    maxing,\n    wait,\n    maxWait,\n    trailing,\n    useRAF,\n    isClientSide,\n    debounceOnServer,\n  ]);\n\n  return debounced;\n}\n","import { useCallback, useRef, useState } from 'react';\nimport useDebouncedCallback, { DebouncedState } from './useDebouncedCallback';\n\nfunction valueEquality<T>(left: T, right: T): boolean {\n  return left === right;\n}\n\nexport default function useDebounce<T>(\n  value: T,\n  delay: number,\n  options?: {\n    maxWait?: number;\n    leading?: boolean;\n    trailing?: boolean;\n    equalityFn?: (left: T, right: T) => boolean;\n  }\n): [T, DebouncedState<(value: T) => void>] {\n  const eq = (options && options.equalityFn) || valueEquality;\n\n  const activeValue = useRef(value);\n  const [, forceUpdate] = useState({});\n  const debounced = useDebouncedCallback(\n    useCallback(\n      (value: T) => {\n        activeValue.current = value;\n        forceUpdate({});\n      },\n      [forceUpdate]\n    ),\n    delay,\n    options\n  );\n  const previousValue = useRef(value);\n\n  if (!eq(previousValue.current, value)) {\n    debounced(value);\n    previousValue.current = value;\n  }\n\n  return [activeValue.current as T, debounced];\n}\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\n\n// Get all possible permutations of all power sets\n//\n// Super simple, non-algorithmic solution since the\n// number of class names will not be greater than 4\nfunction powerSetPermutations(arr) {\n  var arrLength = arr.length;\n  if (arrLength === 0 || arrLength === 1) return arr;\n  if (arrLength === 2) {\n    // prettier-ignore\n    return [arr[0], arr[1], \"\".concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[1], \".\").concat(arr[0])];\n  }\n  if (arrLength === 3) {\n    return [arr[0], arr[1], arr[2], \"\".concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[0]), \"\".concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[0])];\n  }\n  if (arrLength >= 4) {\n    // Currently does not support more than 4 extra\n    // class names (after `.token` has been removed)\n    return [arr[0], arr[1], arr[2], arr[3], \"\".concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[3]), \"\".concat(arr[1], \".\").concat(arr[0]), \"\".concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[3]), \"\".concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[2], \".\").concat(arr[3]), \"\".concat(arr[3], \".\").concat(arr[0]), \"\".concat(arr[3], \".\").concat(arr[1]), \"\".concat(arr[3], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[3]), \"\".concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[3]), \"\".concat(arr[0], \".\").concat(arr[3], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[3], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[3]), \"\".concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[3]), \"\".concat(arr[1], \".\").concat(arr[3], \".\").concat(arr[0]), \"\".concat(arr[1], \".\").concat(arr[3], \".\").concat(arr[2]), \"\".concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[3]), \"\".concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[3]), \"\".concat(arr[2], \".\").concat(arr[3], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[3], \".\").concat(arr[1]), \"\".concat(arr[3], \".\").concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[3], \".\").concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[3], \".\").concat(arr[1], \".\").concat(arr[0]), \"\".concat(arr[3], \".\").concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[3], \".\").concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[3], \".\").concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[3]), \"\".concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[3], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[3]), \"\".concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[3], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[3], \".\").concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[3], \".\").concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[3]), \"\".concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[3], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[3]), \"\".concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[3], \".\").concat(arr[0]), \"\".concat(arr[1], \".\").concat(arr[3], \".\").concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[3], \".\").concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[3]), \"\".concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[3], \".\").concat(arr[1]), \"\".concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[3]), \"\".concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[3], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[3], \".\").concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[2], \".\").concat(arr[3], \".\").concat(arr[1], \".\").concat(arr[0]), \"\".concat(arr[3], \".\").concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[3], \".\").concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[3], \".\").concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[3], \".\").concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[3], \".\").concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[3], \".\").concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[0])];\n  }\n}\nvar classNameCombinations = {};\nfunction getClassNameCombinations(classNames) {\n  if (classNames.length === 0 || classNames.length === 1) return classNames;\n  var key = classNames.join('.');\n  if (!classNameCombinations[key]) {\n    classNameCombinations[key] = powerSetPermutations(classNames);\n  }\n  return classNameCombinations[key];\n}\nexport function createStyleObject(classNames) {\n  var elementStyle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var stylesheet = arguments.length > 2 ? arguments[2] : undefined;\n  var nonTokenClassNames = classNames.filter(function (className) {\n    return className !== 'token';\n  });\n  var classNamesCombinations = getClassNameCombinations(nonTokenClassNames);\n  return classNamesCombinations.reduce(function (styleObject, className) {\n    return _objectSpread(_objectSpread({}, styleObject), stylesheet[className]);\n  }, elementStyle);\n}\nexport function createClassNameString(classNames) {\n  return classNames.join(' ');\n}\nexport function createChildren(stylesheet, useInlineStyles) {\n  var childrenCount = 0;\n  return function (children) {\n    childrenCount += 1;\n    return children.map(function (child, i) {\n      return createElement({\n        node: child,\n        stylesheet: stylesheet,\n        useInlineStyles: useInlineStyles,\n        key: \"code-segment-\".concat(childrenCount, \"-\").concat(i)\n      });\n    });\n  };\n}\nexport default function createElement(_ref) {\n  var node = _ref.node,\n    stylesheet = _ref.stylesheet,\n    _ref$style = _ref.style,\n    style = _ref$style === void 0 ? {} : _ref$style,\n    useInlineStyles = _ref.useInlineStyles,\n    key = _ref.key;\n  var properties = node.properties,\n    type = node.type,\n    TagName = node.tagName,\n    value = node.value;\n  if (type === 'text') {\n    return value;\n  } else if (TagName) {\n    var childrenCreator = createChildren(stylesheet, useInlineStyles);\n    var props;\n    if (!useInlineStyles) {\n      props = _objectSpread(_objectSpread({}, properties), {}, {\n        className: createClassNameString(properties.className)\n      });\n    } else {\n      var allStylesheetSelectors = Object.keys(stylesheet).reduce(function (classes, selector) {\n        selector.split('.').forEach(function (className) {\n          if (!classes.includes(className)) classes.push(className);\n        });\n        return classes;\n      }, []);\n\n      // For compatibility with older versions of react-syntax-highlighter\n      var startingClassName = properties.className && properties.className.includes('token') ? ['token'] : [];\n      var className = properties.className && startingClassName.concat(properties.className.filter(function (className) {\n        return !allStylesheetSelectors.includes(className);\n      }));\n      props = _objectSpread(_objectSpread({}, properties), {}, {\n        className: createClassNameString(className) || undefined,\n        style: createStyleObject(properties.className, Object.assign({}, properties.style, style), stylesheet)\n      });\n    }\n    var children = childrenCreator(node.children);\n    return /*#__PURE__*/React.createElement(TagName, _extends({\n      key: key\n    }, props), children);\n  }\n}","import { AlertIcon, CheckIcon, CopyIcon } from '@storybook/icons';\n// biome-ignore lint/correctness/noUnusedImports: Must be here for react@19 and non-react projects support\nimport React from 'react';\nimport { useState } from 'react';\nimport { createElement } from 'react-syntax-highlighter';\nimport {\n\tIconButton,\n\tSyntaxHighlighter,\n\tTooltipNote,\n\tWithTooltip,\n} from 'storybook/internal/components';\nimport { styled } from 'storybook/internal/theming';\nimport type {\n\tGeneratedCodeLine,\n\tWarning,\n} from './codegen/interactions-to-code';\n\nconst Container = styled.div(({ theme }) => ({\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n\tborder: `1px solid ${theme.appBorderColor}`,\n}));\n\nconst Label = styled.div<{\n\tisSticky?: boolean;\n}>(({ theme, isSticky }) => ({\n\tfontSize: theme.typography.size.s1,\n\tfontWeight: 'bold',\n\tmarginBottom: 4,\n\tpadding: '6px 7px',\n\tbackground: theme.barBg,\n\tborderBottom: `1px solid ${theme.appBorderColor}`,\n\tposition: 'relative',\n\n\t...(isSticky\n\t\t? {\n\t\t\t\tposition: 'sticky',\n\t\t\t\ttop: 0,\n\t\t\t\tzIndex: 1,\n\t\t\t}\n\t\t: {}),\n}));\n\nconst Code = styled.div({\n\tpadding: '6px 7px 10px',\n\theight: '100%',\n\ttabSize: '8px',\n\tpre: {\n\t\tmargin: 0,\n\t\tborderRadius: 0,\n\t},\n});\n\nconst CopyIconContainer = styled.div({\n\tposition: 'absolute',\n\ttop: '50%',\n\ttransform: 'translateY(-50%)',\n\tright: 0,\n\tzIndex: 1,\n});\n\nconst WarningButton = styled(IconButton)(({ theme }) => ({\n\tpadding: 0,\n\twidth: 20,\n\theight: 20,\n\tmarginRight: 4,\n}));\n\nconst WarningIcon = styled(AlertIcon)(({ theme }) => ({\n\tcolor: theme.color.warning,\n\twidth: 12,\n\theight: 12,\n}));\n\nexport function CodeBlock({\n\tname,\n\tcodeLines,\n\tisSticky,\n}: {\n\tname: string;\n\tcodeLines: GeneratedCodeLine[];\n\tisSticky?: boolean;\n}) {\n\tconst [isCopied, setIsCopied] = useState(false);\n\tconst [copiedTimeoutId, setCopiedTimeoutId] = useState<ReturnType<\n\t\ttypeof setTimeout\n\t> | null>(null);\n\n\t// react-syntax-highlighter splits the multiline strings and it breaks the warning display\n\t// so we need to split the code lines manually\n\tconst splitCodeLines = codeLines.flatMap((line) =>\n\t\tline.text.split('\\n').map((text, index) => ({\n\t\t\ttext,\n\t\t\twarning: line.warning && index === 0 ? line.warning : undefined,\n\t\t})),\n\t);\n\n\tconst code = splitCodeLines.map(({ text }) => text).join('\\n');\n\n\treturn (\n\t\t<Container>\n\t\t\t<Label isSticky={isSticky}>\n\t\t\t\t{name}\n\n\t\t\t\t<CopyIconContainer>\n\t\t\t\t\t<WithTooltip\n\t\t\t\t\t\tplacement={'top'}\n\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\thasChrome={false}\n\t\t\t\t\t\ttrigger=\"hover\"\n\t\t\t\t\t\ttooltip={<TooltipNote note=\"Copy\" />}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(code).then(() => {\n\t\t\t\t\t\t\t\t\tsetIsCopied(true);\n\t\t\t\t\t\t\t\t\tif (copiedTimeoutId) {\n\t\t\t\t\t\t\t\t\t\tclearTimeout(copiedTimeoutId);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tsetCopiedTimeoutId(\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\tsetIsCopied(false);\n\t\t\t\t\t\t\t\t\t\t\tsetCopiedTimeoutId(null);\n\t\t\t\t\t\t\t\t\t\t}, 2000),\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isCopied ? <CheckIcon size={16} /> : <CopyIcon size={16} />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</WithTooltip>\n\t\t\t\t</CopyIconContainer>\n\t\t\t</Label>\n\n\t\t\t<Code>\n\t\t\t\t<SyntaxHighlighter\n\t\t\t\t\tlanguage={'typescript'}\n\t\t\t\t\trenderer={({ rows, useInlineStyles }) =>\n\t\t\t\t\t\trows.map((row, i) => {\n\t\t\t\t\t\t\tconst warning = splitCodeLines[i]?.warning;\n\n\t\t\t\t\t\t\tif (warning) {\n\t\t\t\t\t\t\t\tconst warningIcon: rendererNode = {\n\t\t\t\t\t\t\t\t\ttype: 'element',\n\t\t\t\t\t\t\t\t\ttagName: WarningIndicator,\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tclassName: [],\n\t\t\t\t\t\t\t\t\t\twarning,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t// replace the empty space with the warning icon\n\t\t\t\t\t\t\t\trow.children.splice(0, 1, warningIcon);\n\t\t\t\t\t\t\t} else if (i > 0 && i < rows.length - 1) {\n\t\t\t\t\t\t\t\tif (row.children[0].properties) {\n\t\t\t\t\t\t\t\t\t// push each line to the right so that the code is aligned (warnings are displayed on the left)\n\t\t\t\t\t\t\t\t\trow.children[0].properties.style = { marginRight: '16px' };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn createElement({\n\t\t\t\t\t\t\t\tnode: row,\n\t\t\t\t\t\t\t\tstylesheet: {},\n\t\t\t\t\t\t\t\tuseInlineStyles,\n\t\t\t\t\t\t\t\tkey: `code-segement${i}`,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{code}\n\t\t\t\t</SyntaxHighlighter>\n\t\t\t</Code>\n\t\t</Container>\n\t);\n}\n\nconst Title = styled.div(({ theme }) => ({\n\tfontWeight: theme.typography.weight.bold,\n\tfontSize: theme.typography.size.s2,\n\tmarginBottom: 12,\n}));\n\nconst Desc = styled.div(({ theme }) => ({\n\tcolor: theme.color.defaultText,\n}));\n\nconst Message = styled.div(({ theme }) => ({\n\tcolor: theme.color.defaultText,\n\tlineHeight: '18px',\n\tpadding: 15,\n\twidth: 350,\n}));\n\nconst warningToRender = {\n\tROLE_WITHOUT_NAME: {\n\t\ttitle: 'Role without name',\n\t\tdescription: (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<strong>getByRole</strong> without name can match any button, making tests\n\t\t\t\t\tunreliable.\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '8px 0' }}>\n\t\t\t\t\tTo fix, add <strong>visible text</strong> or <strong>aria-label</strong> to\n\t\t\t\t\tyour element:\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '8px 0' }}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t❌ <code>&lt;button /&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t✅ <code>&lt;button&gt;Submit&lt;/button&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t✅ <code>&lt;button aria-label=\"Submit\"&gt;Icon&lt;/button&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t},\n\tQUERY_SELECTOR: {\n\t\ttitle: 'Query selector usage',\n\t\tdescription: (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<strong>querySelector</strong> is fragile and breaks when HTML structure\n\t\t\t\t\tchanges.\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '8px 0' }}>\n\t\t\t\t\tTo fix, use <strong>semantic HTML</strong> or <strong>aria-label</strong>{' '}\n\t\t\t\t\tto make the element accessible:\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '8px 0' }}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t❌ <code>&lt;div class=\"submit-18372\"&gt;Submit&lt;/div&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t✅ <code>&lt;button&gt;Submit&lt;/button&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t✅ <code>&lt;div aria-label=\"Submit\"&gt;Icon&lt;/div&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t},\n\tTEST_ID: {\n\t\ttitle: 'Test ID usage',\n\t\tdescription: (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<strong>data-testid</strong> elements are not accessible and do not\n\t\t\t\t\tresemble how your software is used.\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '8px 0' }}>\n\t\t\t\t\tTo improve, use <strong>semantic HTML</strong> or{' '}\n\t\t\t\t\t<strong>aria-label</strong> to make the element accessible:\n\t\t\t\t</div>\n\t\t\t\t<div style={{ margin: '8px 0' }}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t❌ <code>&lt;div data-testid=\"submit\"&gt;Submit&lt;/div&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t✅ <code>&lt;button&gt;Submit&lt;/button&gt;</code>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t},\n};\n\nfunction WarningIndicator({ warning }: { warning: Warning }) {\n\tconst { title, description } = warningToRender[warning];\n\n\treturn (\n\t\t<WithTooltip\n\t\t\ttrigger=\"hover\"\n\t\t\ttooltip={\n\t\t\t\t<Message>\n\t\t\t\t\t<Title>{title}</Title>\n\t\t\t\t\t<Desc>{description}</Desc>\n\t\t\t\t</Message>\n\t\t\t}\n\t\t>\n\t\t\t<WarningButton>\n\t\t\t\t<WarningIcon />\n\t\t\t</WarningButton>\n\t\t</WithTooltip>\n\t);\n}\n","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","export const ADDON_ID = 'storybook/test-codegen';\nexport const PANEL_ID = `${ADDON_ID}/panel`;\nexport const PARAMETER = 'testCodegen';\n\nexport const IS_RECORDING_KEY = `${ADDON_ID}/is-recording`;\nexport const IS_ASSERTING_KEY = `${ADDON_ID}/is-asserting`;\n\nexport const EVENTS = {\n\tINTERACTION: `${ADDON_ID}/interaction`,\n\tSAVE_NEW_STORY_REQUEST: `${ADDON_ID}/save-new-story-request`,\n\tSAVE_NEW_STORY_RESPONSE: `${ADDON_ID}/save-new-story-response`,\n};\n\nexport const DOM_EVENTS = [\n\t'pointerdown',\n\t'dblclick',\n\t'keydown',\n\t'keyup',\n\t'input',\n\t'focus',\n];\n","import { AddIcon, CheckIcon, CrossIcon, SyncIcon } from '@storybook/icons';\nimport { Button, Form } from 'storybook/internal/components';\nimport { styled } from 'storybook/internal/theming';\n\nexport const Container = styled.div(({ theme }) => ({\n\theight: '100%',\n\tbackground: theme.background.content,\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n}));\n\nexport const ContentWrapper = styled.div({\n\tflex: 1,\n\toverflow: 'auto',\n});\n\nexport const SubnavWrapper = styled.div(({ theme }) => ({\n\tbackground: theme.background.app,\n\tborderBottom: `1px solid ${theme.appBorderColor}`,\n\tposition: 'sticky',\n\ttop: 0,\n\tzIndex: 2,\n}));\n\nexport const StyledSubnav = styled.nav(({ theme }) => ({\n\theight: 40,\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tjustifyContent: 'space-between',\n\tpadding: '0 15px',\n}));\n\nexport const StyledButton = styled(Button)(({ theme }) => ({\n\tposition: 'relative',\n\tborderRadius: 4,\n\tpadding: '6px 8px',\n\tcolor: theme.textMutedColor,\n\t'&:not(:disabled)': {\n\t\t'&:hover,&:focus-visible': {\n\t\t\tcolor: theme.color.secondary,\n\t\t},\n\t},\n\tmarginBottom: 1,\n\tlineHeight: '12px',\n}));\n\nexport const StyledButtonBigContent = styled.div(\n\t({\n\t\tisHidden,\n\t}: {\n\t\tisHidden: boolean;\n\t}) => ({\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tgap: 6,\n\t\topacity: isHidden ? 0 : 1,\n\t}),\n);\n\nexport const StyledButtonSmallContent = styled(StyledButtonBigContent)({\n\tleft: 8,\n\ttop: '50%',\n\ttransform: 'translateY(-50%)',\n\tposition: 'absolute',\n});\n\nexport const AssertionButton = styled(StyledButton)(\n\t({\n\t\tisAsserting,\n\t}: {\n\t\tisAsserting: boolean;\n\t}) => ({\n\t\tbackgroundColor: isAsserting ? 'rgba(0, 128, 0, 0.1)' : undefined,\n\t\tcolor: isAsserting ? 'rgb(0, 128, 0)' : undefined,\n\t}),\n);\n\nexport const DisabledButton = styled(StyledButton)({\n\tcursor: 'not-allowed',\n});\n\nexport const SavedButton = styled(Button)({\n\tcolor: 'white',\n});\n\nexport const Group = styled.div({\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tgap: '9px',\n});\n\nexport const EmptyStateDescription = styled.div(({ theme }) => ({\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tgap: '8px',\n}));\n\nexport const RecordIcon = styled.span<{ isRecording: boolean }>(\n\t({ theme, isRecording }) => ({\n\t\twidth: 14,\n\t\theight: 14,\n\t\tborderRadius: '50%',\n\t\tbackgroundColor: isRecording ? theme.color.negative : theme.color.secondary,\n\t\tdisplay: 'inline-block',\n\t}),\n);\n\nexport const CodeBlocksWrapper = styled.div({\n\tpadding: '16px',\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n\tgap: '12px',\n});\n\nexport const SaveContainer = styled.form({\n\tdisplay: 'flex',\n\talignItems: 'center',\n\tgap: 8,\n});\n\nexport const SaveIconColorful = styled(CheckIcon)(({ theme }) => ({\n\twidth: 12,\n\tcolor: theme.color.secondary,\n}));\n\nexport const SaveInput = styled(Form.Input)(({ theme }) => ({\n\tpaddingLeft: 10,\n\tpaddingRight: 10,\n\tfontSize: theme.typography.size.s1,\n\theight: 28,\n\tminHeight: 'unset',\n\n\t...(theme.base === 'light' && {\n\t\tcolor: theme.color.darkest,\n\t}),\n\n\t'::placeholder': {\n\t\tcolor: theme.color.mediumdark,\n\t},\n\t'&:invalid:not(:placeholder-shown)': {\n\t\tboxShadow: `${theme.color.negative} 0 0 0 1px inset`,\n\t},\n\t'&::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration':\n\t\t{\n\t\t\tdisplay: 'none',\n\t\t},\n}));\n\nexport const RotatingIcon = styled(SyncIcon)(({ theme }) => ({\n\tanimation: `${theme.animation.rotate360} 1s linear infinite;`,\n}));\n\nexport const StyledCheckIcon = styled(CheckIcon)({\n\twidth: 12,\n});\n\nexport const ErrorButton = styled(Button)(({ theme }) => ({\n\tcolor: theme.color.negative,\n}));\n\nexport const ErrorIcon = styled(CrossIcon)(({ theme }) => ({\n\tcolor: theme.color.negative,\n}));\n\nexport const AssertIcon = styled(AddIcon)({\n\twidth: 14,\n});\n","import { CheckIcon } from '@storybook/icons';\nimport { dequal as deepEqual } from 'dequal';\n// biome-ignore lint/correctness/noUnusedImports: Must be here for react@19 and non-react projects support\nimport React from 'react';\nimport { type ChangeEvent, useEffect, useState } from 'react';\nimport { TooltipNote, WithTooltip } from 'storybook/internal/components';\nimport {\n\texperimental_requestResponse,\n\tuseStorybookApi,\n} from 'storybook/internal/manager-api';\nimport type { Args } from 'storybook/internal/types';\nimport type { GeneratedCode } from './codegen/interactions-to-code';\nimport { EVENTS } from './constants';\nimport type {\n\tSaveNewStoryRequestPayload,\n\tSaveNewStoryResponsePayload,\n} from './data';\nimport {\n\tDisabledButton,\n\tErrorButton,\n\tErrorIcon,\n\tRotatingIcon,\n\tSaveContainer,\n\tSaveIconColorful,\n\tSaveInput,\n\tSavedButton,\n\tStyledButton,\n\tStyledCheckIcon,\n} from './styles';\n\nconst stringifyArgs = (args: Record<string, unknown>) =>\n\tJSON.stringify(args, (_, value) => {\n\t\tif (typeof value === 'function') {\n\t\t\treturn '__sb_empty_function_arg__';\n\t\t}\n\t\treturn value;\n\t});\n\nexport const SaveStoryButton = ({\n\tcode,\n\tturnOffRecording,\n}: {\n\tcode: GeneratedCode;\n\tturnOffRecording: () => void;\n}) => {\n\tconst api = useStorybookApi();\n\n\tconst [name, setName] = useState('');\n\tconst [state, setState] = useState<\n\t\t'button' | 'input' | 'creating' | 'success' | 'error'\n\t>('button');\n\n\tconst storyData = api.getCurrentStoryData();\n\tuseEffect(() => {\n\t\tsetName(storyData?.name);\n\t\tsetState('button');\n\t}, [storyData?.name]);\n\n\tconst saveStory = async () => {\n\t\tsetState('creating');\n\n\t\tconst payload: SaveNewStoryRequestPayload = {\n\t\t\tcode,\n\t\t\tcsfId: storyData.id,\n\t\t\timportPath: storyData.importPath,\n\t\t\targs: stringifyArgs(\n\t\t\t\t'args' in storyData\n\t\t\t\t\t? Object.entries(storyData.args || {}).reduce<Args>(\n\t\t\t\t\t\t\t(acc, [key, value]) => {\n\t\t\t\t\t\t\t\tif (!deepEqual(value, storyData.initialArgs?.[key])) {\n\t\t\t\t\t\t\t\t\tacc[key] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t)\n\t\t\t\t\t: {},\n\t\t\t),\n\t\t\tname,\n\t\t};\n\n\t\tconst channel = api.getChannel();\n\t\tif (!channel) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst { newStoryId } = await experimental_requestResponse<\n\t\t\t\tSaveNewStoryRequestPayload,\n\t\t\t\tSaveNewStoryResponsePayload\n\t\t\t>(\n\t\t\t\t// biome-ignore lint/suspicious/noExplicitAny: Should be fixed with new package version\n\t\t\t\tchannel as any,\n\t\t\t\tEVENTS.SAVE_NEW_STORY_REQUEST,\n\t\t\t\tEVENTS.SAVE_NEW_STORY_RESPONSE,\n\t\t\t\tpayload,\n\t\t\t);\n\n\t\t\tif (newStoryId === storyData.id) {\n\t\t\t\tsetState('success');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetState('button');\n\t\t\t\t}, 2000);\n\t\t\t} else {\n\t\t\t\tsetState('button');\n\n\t\t\t\tapi.addNotification({\n\t\t\t\t\tid: 'create-new-story-file-success',\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\theadline: 'Story file created',\n\t\t\t\t\t\tsubHeadline: `${name} was created`,\n\t\t\t\t\t},\n\t\t\t\t\tduration: 8_000,\n\t\t\t\t\ticon: <CheckIcon />,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tawait trySelectNewStory(api.selectStory, newStoryId);\n\t\t} catch (ex) {\n\t\t\tconsole.error(ex);\n\n\t\t\tapi.addNotification({\n\t\t\t\tid: 'create-new-story-file-error',\n\t\t\t\tcontent: {\n\t\t\t\t\theadline: 'Failed to save story',\n\t\t\t\t\tsubHeadline: 'Please try again',\n\t\t\t\t},\n\t\t\t\tduration: 8_000,\n\t\t\t\ticon: <CheckIcon />,\n\t\t\t});\n\n\t\t\tsetState('error');\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetState('button');\n\t\t\t}, 2000);\n\t\t} finally {\n\t\t\tturnOffRecording();\n\t\t}\n\t};\n\n\tconst isDevelopment =\n\t\t// biome-ignore lint/suspicious/noExplicitAny:\n\t\t(global as any as { CONFIG_TYPE: string }).CONFIG_TYPE === 'DEVELOPMENT';\n\n\treturn (\n\t\t<SaveContainer>\n\t\t\t{state === 'button' && isDevelopment && (\n\t\t\t\t<StyledButton onClick={() => setState('input')} variant=\"outline\">\n\t\t\t\t\t<SaveIconColorful size={16} /> Save to story\n\t\t\t\t</StyledButton>\n\t\t\t)}\n\n\t\t\t{state === 'button' && !isDevelopment && (\n\t\t\t\t<WithTooltip\n\t\t\t\t\tas=\"div\"\n\t\t\t\t\thasChrome={false}\n\t\t\t\t\ttrigger=\"hover\"\n\t\t\t\t\ttooltip={<TooltipNote note=\"Only available in development mode\" />}\n\t\t\t\t>\n\t\t\t\t\t<DisabledButton variant=\"outline\" type=\"button\">\n\t\t\t\t\t\t<SaveIconColorful size={16} /> Save to story\n\t\t\t\t\t</DisabledButton>\n\t\t\t\t</WithTooltip>\n\t\t\t)}\n\n\t\t\t{state === 'input' && (\n\t\t\t\t<>\n\t\t\t\t\t<SaveInput\n\t\t\t\t\t\tplaceholder=\"Type story name\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>) => setName(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<StyledButton onClick={saveStory} type=\"submit\" variant=\"outline\">\n\t\t\t\t\t\tSave\n\t\t\t\t\t</StyledButton>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t{state === 'creating' && (\n\t\t\t\t<StyledButton onClick={() => setState('input')} variant=\"outline\">\n\t\t\t\t\t<RotatingIcon /> Saving\n\t\t\t\t</StyledButton>\n\t\t\t)}\n\n\t\t\t{state === 'success' && (\n\t\t\t\t<SavedButton variant=\"solid\" type=\"button\">\n\t\t\t\t\t<StyledCheckIcon /> Saved\n\t\t\t\t</SavedButton>\n\t\t\t)}\n\n\t\t\t{state === 'error' && (\n\t\t\t\t<ErrorButton variant=\"ghost\" type=\"button\">\n\t\t\t\t\t<ErrorIcon /> Failed to save\n\t\t\t\t</ErrorButton>\n\t\t\t)}\n\t\t</SaveContainer>\n\t);\n};\n\nexport async function trySelectNewStory(\n\tselectStory: (id: string) => Promise<void> | void,\n\tstoryId: string,\n\tattempt = 1,\n): Promise<void> {\n\tif (attempt > 10) {\n\t\tthrow new Error('We could not select the new story. Please try again.');\n\t}\n\n\ttry {\n\t\tawait selectStory(storyId);\n\t} catch (e) {\n\t\tawait new Promise((resolve) => setTimeout(resolve, 500));\n\t\treturn trySelectNewStory(selectStory, storyId, attempt + 1);\n\t}\n}\n","export const argsToString = (args: unknown[]): string =>\n\targs\n\t\t.map((arg) => {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\treturn wrapInQuotes(arg);\n\t\t\t}\n\n\t\t\tif (typeof arg === 'object' && arg !== null) {\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\treturn `[${arg\n\t\t\t\t\t\t.map((item) => (typeof item === 'string' ? wrapInQuotes(item) : item))\n\t\t\t\t\t\t.join(', ')}]`;\n\t\t\t\t}\n\n\t\t\t\treturn `{ ${Object.entries(arg)\n\t\t\t\t\t.reduce<string[]>((acc, [key, value]) => {\n\t\t\t\t\t\tif (typeof value === 'object' && value !== null) {\n\t\t\t\t\t\t\tacc.push(`${key}: ${argsToString([value])}`);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tacc.push(\n\t\t\t\t\t\t\t\t`${key}: ${typeof value === 'string' ? wrapInQuotes(value) : value}`,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, [])\n\t\t\t\t\t.join(', ')} }`;\n\t\t\t}\n\n\t\t\treturn String(arg);\n\t\t})\n\t\t.join(', ');\n\nexport const wrapInQuotes = (str: string): string => {\n\t// Escape backslashes first\n\tconst result = str.replace(/\\\\/g, '\\\\\\\\');\n\n\tif (result.includes('\\n')) {\n\t\t// For multiline strings, use backticks and escape any backticks in the content\n\t\treturn `\\`${result.replace(/`/g, '\\\\`')}\\``;\n\t}\n\n\t// For single line strings, use single quotes and escape any single quotes in the content\n\treturn `'${result.replace(/'/g, \"\\\\'\")}'`;\n};\n","import type { Interaction } from '../state';\nimport { argsToString } from './args-to-string';\n\nexport const combineInteractions = (\n\tinteraction: Interaction,\n\texistingInteractions: Interaction[],\n): Interaction[] => {\n\tconst result = [...existingInteractions];\n\n\tif (interaction.event.type === 'dblclick') {\n\t\tlet clicksRemoved = 0;\n\t\tfor (let i = result.length - 1; i >= 0 && clicksRemoved < 2; i--) {\n\t\t\tif (result[i].event.type === 'click') {\n\t\t\t\tresult.splice(i, 1);\n\t\t\t\tclicksRemoved++;\n\t\t\t}\n\t\t}\n\n\t\tresult.push(interaction);\n\t\treturn result;\n\t}\n\n\tif (interaction.event.type === 'type') {\n\t\tfor (let i = result.length - 1; i >= 0; i--) {\n\t\t\tconst prevInteraction = result[i];\n\n\t\t\tconst isNotType = prevInteraction.event.type !== 'type';\n\t\t\tconst isShiftKey =\n\t\t\t\tprevInteraction.event.type === 'keydown' &&\n\t\t\t\tprevInteraction.event.key === 'shift';\n\t\t\tif (isNotType && !isShiftKey) {\n\t\t\t\tresult.push(interaction);\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tprevInteraction?.event.type === 'type' &&\n\t\t\t\tisSameElementQuery(prevInteraction, interaction)\n\t\t\t) {\n\t\t\t\tprevInteraction.event.value = interaction.event.value;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\tresult.push(interaction);\n\t\treturn result;\n\t}\n\n\tif (interaction.event.type === 'keyup') {\n\t\tfor (let i = result.length - 1; i >= 0; i--) {\n\t\t\tconst prevInteraction = result[i];\n\t\t\tif (\n\t\t\t\tprevInteraction.event.type === 'keydown' &&\n\t\t\t\tprevInteraction.event.key === 'shift'\n\t\t\t) {\n\t\t\t\tresult.splice(i, 1);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tif (interaction.event.type === 'focus') {\n\t\tlet hasShift = false;\n\t\tlet tabKeydownIndex = null;\n\n\t\tfor (let i = result.length - 1; i >= 0; i--) {\n\t\t\tconst prevInteraction = result[i];\n\t\t\tif (\n\t\t\t\tprevInteraction?.event.type === 'keydown' &&\n\t\t\t\tprevInteraction?.event.key === 'tab'\n\t\t\t) {\n\t\t\t\ttabKeydownIndex = i;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tprevInteraction?.event.type === 'keydown' &&\n\t\t\t\tprevInteraction?.event.key === 'shift'\n\t\t\t) {\n\t\t\t\thasShift = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (tabKeydownIndex !== null) {\n\t\t\tresult.splice(tabKeydownIndex, 1);\n\t\t\tresult.push({\n\t\t\t\telementQuery: interaction.elementQuery,\n\t\t\t\tevent: { type: 'focus', shift: hasShift },\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tresult.push(interaction);\n\treturn result;\n};\n\nconst isSameElementQuery = (a: Interaction, b: Interaction) => {\n\treturn (\n\t\ta.elementQuery.object === b.elementQuery.object &&\n\t\ta.elementQuery.method === b.elementQuery.method &&\n\t\targsToString(a.elementQuery.args) === argsToString(b.elementQuery.args) &&\n\t\ta.elementQuery.nth === b.elementQuery.nth\n\t);\n};\n","import type { Interaction } from '../state';\nimport { argsToString, wrapInQuotes } from './args-to-string';\n\nconst EVENT_TO_USER_EVENT = {\n\tclick: 'click',\n\tdblclick: 'dblClick',\n\tkeydown: 'keyboard',\n\ttype: 'type',\n\tselect: 'selectOptions',\n\tupload: 'upload',\n\tfocus: 'focus',\n};\n\nexport type Warning = 'ROLE_WITHOUT_NAME' | 'QUERY_SELECTOR' | 'TEST_ID';\n\nexport type GeneratedCodeLine = {\n\ttext: string;\n\twarning?: Warning;\n};\n\nexport type GeneratedCode = {\n\timports: GeneratedCodeLine[];\n\tplay: GeneratedCodeLine[];\n};\n\nexport const convertInteractionsToCode = (\n\tinteractions: Interaction[],\n\thasTypescript: boolean,\n): GeneratedCode => {\n\tconst codeLines: GeneratedCodeLine[] = [];\n\tlet usesBody = false;\n\tlet usesCanvas = false;\n\tlet needsExpect = false;\n\n\tfor (const interaction of interactions) {\n\t\tconst { event } = interaction;\n\t\tif (\n\t\t\tevent.type === 'keyup' ||\n\t\t\t(event.type === 'keydown' && ['shift', 'tab'].includes(event.key))\n\t\t) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (event.type === 'assertion') {\n\t\t\tneedsExpect = true;\n\n\t\t\tconst { queryString, asElementPostfix, warning } = getQueryString(\n\t\t\t\tinteraction.elementQuery,\n\t\t\t\thasTypescript,\n\t\t\t);\n\n\t\t\tlet assertCode = `expect(${queryString.replace(asElementPostfix, '')})`\n\t\t\t\t.replace('await ', '')\n\t\t\t\t.replace('canvas.find', 'canvas.query');\n\n\t\t\tif (event.args && event.args.length > 0) {\n\t\t\t\t// Handle args for all assertion types\n\t\t\t\tassertCode += `.${event.assertionType}(${argsToString(event.args)})`;\n\t\t\t} else {\n\t\t\t\t// No args provided\n\t\t\t\tassertCode += `.${event.assertionType}()`;\n\t\t\t}\n\n\t\t\tif (interaction.elementQuery.object === 'body') {\n\t\t\t\tusesBody = true;\n\t\t\t}\n\n\t\t\tif (interaction.elementQuery.object === 'canvas') {\n\t\t\t\tusesCanvas = true;\n\t\t\t}\n\n\t\t\tcodeLines.push({\n\t\t\t\ttext: `await waitFor(() => ${assertCode})`,\n\t\t\t\twarning,\n\t\t\t});\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet beginning = `await userEvent.${EVENT_TO_USER_EVENT[event.type]}`;\n\t\tlet { queryString, assertion, warning } = getQueryString(\n\t\t\tinteraction.elementQuery,\n\t\t\thasTypescript,\n\t\t);\n\t\tlet valueStr = '';\n\n\t\tif (event.type === 'type') {\n\t\t\tif (event.value === '') {\n\t\t\t\tbeginning = beginning.replace(EVENT_TO_USER_EVENT[event.type], 'clear');\n\t\t\t\tvalueStr = '';\n\t\t\t} else {\n\t\t\t\tvalueStr = `, ${wrapInQuotes(event.value)}`;\n\t\t\t}\n\t\t} else if (event.type === 'keydown') {\n\t\t\tqueryString = '';\n\t\t\tassertion = null;\n\t\t\twarning = undefined;\n\n\t\t\tvalueStr = `'${event.key}'`;\n\t\t} else if (event.type === 'select') {\n\t\t\tvalueStr = `, [${event.options.map((option) => `'${option}'`).join(', ')}]`;\n\t\t} else if (event.type === 'upload') {\n\t\t\tvalueStr = `, [${event.files.map((file) => `new File(['${file}'], '${file}')`).join(', ')}]`;\n\t\t} else if (event.type === 'focus') {\n\t\t\tbeginning = beginning.replace('focus', 'tab');\n\t\t\tqueryString = '';\n\t\t\tassertion = null;\n\t\t\twarning = undefined;\n\t\t\tvalueStr = event.shift ? '{ shift: true }' : '';\n\t\t}\n\n\t\tif (queryString) {\n\t\t\tif (interaction.elementQuery.object === 'body') {\n\t\t\t\tusesBody = true;\n\t\t\t} else {\n\t\t\t\tusesCanvas = true;\n\t\t\t}\n\t\t}\n\n\t\tif (assertion) {\n\t\t\tcodeLines.push({\n\t\t\t\ttext: assertion,\n\t\t\t\twarning,\n\t\t\t});\n\t\t\tneedsExpect = true;\n\t\t}\n\t\tcodeLines.push({\n\t\t\ttext: `${beginning}(${queryString}${valueStr});`,\n\t\t\twarning,\n\t\t});\n\t}\n\n\tif (!codeLines.length) {\n\t\treturn {\n\t\t\timports: [],\n\t\t\tplay: [],\n\t\t};\n\t}\n\n\tconst importNames = ['userEvent'];\n\n\tif (usesCanvas) {\n\t\timportNames.push('within');\n\t}\n\n\t// Always include waitFor and expect when we have assertions\n\tif (needsExpect || usesBody) {\n\t\timportNames.push('waitFor', 'expect');\n\t}\n\n\tconst play: GeneratedCodeLine[] = [\n\t\t{\n\t\t\ttext: 'play: async ({ canvasElement }) => {',\n\t\t},\n\t];\n\n\tif (usesBody) {\n\t\tplay.push({\n\t\t\ttext: tab('const body = canvasElement.ownerDocument.body;'),\n\t\t});\n\t}\n\n\tif (usesCanvas) {\n\t\tif (usesBody) {\n\t\t\tplay.push({\n\t\t\t\ttext: tab('const canvas = within(body);'),\n\t\t\t});\n\t\t} else {\n\t\t\tplay.push({\n\t\t\t\ttext: tab('const canvas = within(canvasElement.ownerDocument.body);'),\n\t\t\t});\n\t\t}\n\t}\n\n\tplay.push(\n\t\t...codeLines.map((codeLine) => ({\n\t\t\ttext: tab(codeLine.text),\n\t\t\twarning: codeLine.warning,\n\t\t})),\n\t\t{ text: '}' },\n\t);\n\n\treturn {\n\t\timports: [\n\t\t\t{\n\t\t\t\ttext: `import { ${importNames.join(', ')} } from 'storybook/test';`,\n\t\t\t},\n\t\t],\n\t\tplay,\n\t};\n};\n\nexport const tab = (str: string) => `\\t${str}`;\n\nconst getQueryString = (\n\tquery: Interaction['elementQuery'],\n\thasTypescript: boolean,\n) => {\n\tconst asElementPostfix = ' as HTMLElement';\n\n\tconst beginning = `${query.object === 'canvas' ? 'await ' : ''}${query.object}.${query.method}`;\n\tconst args = argsToString(query.args);\n\n\tlet warning: Warning | undefined;\n\n\tif (query.method === 'querySelector') {\n\t\twarning = 'QUERY_SELECTOR';\n\t} else if (\n\t\tquery.method.includes('ByRole') &&\n\t\t(!query.args[1] || !('name' in (query.args[1] as { name?: string })))\n\t) {\n\t\twarning = 'ROLE_WITHOUT_NAME';\n\t} else if (query.method.includes('ByTestId')) {\n\t\twarning = 'TEST_ID';\n\t}\n\n\tconst asElement =\n\t\tquery.object === 'body' && hasTypescript ? asElementPostfix : '';\n\tconst queryString = `${beginning}(${args})${asElement}`;\n\n\tconst result =\n\t\tquery.nth === null ? queryString : `(${queryString})[${query.nth}]`;\n\n\tconst queryStringWithoutAsElement = result.replace(asElement, '');\n\n\tconst assertion =\n\t\tquery.object === 'body'\n\t\t\t? `await waitFor(() => expect(${queryStringWithoutAsElement}).toBeInTheDocument());`\n\t\t\t: null;\n\n\treturn {\n\t\tassertion,\n\t\tqueryString: result,\n\t\tasElementPostfix,\n\t\twarning,\n\t};\n};\n","import { useAddonState } from 'storybook/internal/manager-api';\nimport { useGlobals } from 'storybook/internal/manager-api';\nimport type { ElementQuery } from './codegen/generate-query';\nimport { ADDON_ID, IS_ASSERTING_KEY, IS_RECORDING_KEY } from './constants';\n\nexport type ClickEvent = { type: 'click' | 'dblclick' };\nexport type TypeEvent = { type: 'type'; value: string };\nexport type KeydownEvent = {\n\ttype: 'keydown';\n\tkey: '{enter}' | '{esc}' | 'tab' | 'shift';\n};\nexport type KeyupEvent = {\n\ttype: 'keyup';\n\tkey: 'shift';\n};\nexport type SelectEvent = { type: 'select'; options: string[] };\nexport type UploadEvent = { type: 'upload'; files: string[] };\nexport type FocusEvent = { type: 'focus'; shift: boolean };\nexport type AssertionEvent = {\n\ttype: 'assertion';\n\tassertionType:\n\t\t| 'toBeVisible'\n\t\t| 'toBeInTheDocument'\n\t\t| 'toBeChecked'\n\t\t| 'not.toBeChecked'\n\t\t| 'toBeDisabled'\n\t\t| 'toBeEnabled'\n\t\t| 'toHaveFocus'\n\t\t| 'toHaveValue'\n\t\t| 'not.toHaveValue'\n\t\t| 'toHaveTextContent';\n\targs: unknown[];\n};\nexport type InteractionEvent =\n\t| ClickEvent\n\t| TypeEvent\n\t| KeydownEvent\n\t| KeyupEvent\n\t| SelectEvent\n\t| UploadEvent\n\t| FocusEvent\n\t| AssertionEvent;\n\nexport type Interaction = {\n\telementQuery: ElementQuery;\n\tevent: InteractionEvent;\n};\n\n// Interactions are stored as stringified Interaction[],\n// because latest storybook has some issues with storing objects in addon state,\n// where whenever you update the array, if number of elements are same, it doesn't trigger re-render\nexport const useInteractions = () =>\n\tuseAddonState<string>(ADDON_ID, JSON.stringify([]));\n\nexport const useIsRecording = () => {\n\tconst [globals, setGlobals] = useGlobals();\n\n\treturn [\n\t\tglobals[IS_RECORDING_KEY] === true,\n\t\t(isRecording: boolean) => {\n\t\t\tsetGlobals({\n\t\t\t\t[IS_RECORDING_KEY]: isRecording,\n\t\t\t});\n\t\t},\n\t] as const;\n};\n\nexport const useIsAsserting = () => {\n\tconst [globals, setGlobals] = useGlobals();\n\n\treturn [\n\t\tglobals[IS_ASSERTING_KEY] === true,\n\t\t(isAssertionMode: boolean) => {\n\t\t\tsetGlobals({\n\t\t\t\t[IS_ASSERTING_KEY]: isAssertionMode,\n\t\t\t});\n\t\t},\n\t] as const;\n};\n","import { DeleteIcon } from '@storybook/icons';\n// biome-ignore lint/correctness/noUnusedImports: Must be here for react@19 and non-react projects support\nimport React from 'react';\nimport { useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { Bar, EmptyTabContent } from 'storybook/internal/components';\nimport { useChannel, useStorybookApi } from 'storybook/internal/manager-api';\nimport { useDebounce } from 'use-debounce';\nimport { CodeBlock } from './CodeBlock';\nimport { SaveStoryButton } from './SaveStory';\nimport { combineInteractions } from './codegen/combine-interactions';\nimport { convertInteractionsToCode } from './codegen/interactions-to-code';\nimport { EVENTS } from './constants';\nimport {\n\ttype Interaction,\n\tuseInteractions,\n\tuseIsAsserting,\n\tuseIsRecording,\n} from './state';\nimport {\n\tAssertIcon,\n\tAssertionButton,\n\tCodeBlocksWrapper,\n\tContainer,\n\tContentWrapper,\n\tEmptyStateDescription,\n\tGroup,\n\tRecordIcon,\n\tStyledButton,\n\tStyledButtonBigContent,\n\tStyledButtonSmallContent,\n\tStyledSubnav,\n\tSubnavWrapper,\n} from './styles';\n\nexport const InteractionRecorder = () => {\n\tconst [interactions, setInteractions] = useInteractions();\n\tconst [isRecording, setIsRecording] = useIsRecording();\n\tconst [isAsserting, setIsAsserting] = useIsAsserting();\n\n\tuseChannel({\n\t\t[EVENTS.INTERACTION]: (interaction: Interaction) => {\n\t\t\tsetInteractions((prevInteractions) =>\n\t\t\t\tJSON.stringify(\n\t\t\t\t\tcombineInteractions(interaction, JSON.parse(prevInteractions)),\n\t\t\t\t),\n\t\t\t);\n\t\t},\n\t});\n\n\tconst toggleRecording = () => {\n\t\t// Turn off assertion mode when stopping recording\n\t\tif (isRecording && isAsserting) {\n\t\t\tsetIsAsserting(false);\n\t\t}\n\t\tsetIsRecording(!isRecording);\n\t};\n\n\tconst toggleAsserting = () => setIsAsserting(!isAsserting);\n\n\tconst resetInteractions = () => setInteractions(() => JSON.stringify([]));\n\n\tconst api = useStorybookApi();\n\n\tconst storyData = api.getCurrentStoryData();\n\n\tconst turnOffRecording = () => {\n\t\tsetIsRecording(false);\n\t\tsetIsAsserting(false);\n\t};\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: reset events & recording when story changes\n\tuseEffect(() => {\n\t\tresetInteractions();\n\t\tturnOffRecording();\n\t}, [storyData?.id]);\n\n\tconst hasTypescript = ['.ts', '.tsx'].some((ext) =>\n\t\tstoryData?.importPath.endsWith(ext),\n\t);\n\n\tconst [debouncedInteractions] = useDebounce(interactions, 100);\n\tconst code = useMemo(\n\t\t() =>\n\t\t\tconvertInteractionsToCode(JSON.parse(debouncedInteractions), hasTypescript),\n\t\t[debouncedInteractions, hasTypescript],\n\t);\n\n\tconst containerRef = useRef<HTMLDivElement | null>(null);\n\tuseEffect(() => {\n\t\tif (containerRef.current?.parentElement?.style) {\n\t\t\tcontainerRef.current.parentElement.style.height = '100%';\n\t\t}\n\t}, []);\n\n\tconst codeBlocksRef = useRef<HTMLDivElement | null>(null);\n\tconst [isScrolledToBottom, setIsScrolledToBottom] = useState(true);\n\n\t// biome-ignore lint/correctness/useExhaustiveDependencies: Scroll the container to bottom when code changes\n\tuseLayoutEffect(() => {\n\t\tconst element = codeBlocksRef.current;\n\t\tif (!element || !isScrolledToBottom) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (isScrolledToBottom) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\telement.scrollTop = element.scrollHeight;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(element, { childList: true, subtree: true });\n\n\t\treturn () => observer.disconnect();\n\t}, [code, isScrolledToBottom]);\n\n\treturn (\n\t\t<Container ref={containerRef}>\n\t\t\t<SubnavWrapper>\n\t\t\t\t<Bar>\n\t\t\t\t\t<StyledSubnav>\n\t\t\t\t\t\t<Group>\n\t\t\t\t\t\t\t<StyledButton onClick={toggleRecording}>\n\t\t\t\t\t\t\t\t<StyledButtonBigContent isHidden={isRecording}>\n\t\t\t\t\t\t\t\t\t<RecordIcon isRecording={false} />\n\t\t\t\t\t\t\t\t\tStart recording\n\t\t\t\t\t\t\t\t</StyledButtonBigContent>\n\t\t\t\t\t\t\t\t<StyledButtonSmallContent isHidden={!isRecording}>\n\t\t\t\t\t\t\t\t\t<RecordIcon isRecording={true} />\n\t\t\t\t\t\t\t\t\tStop recording\n\t\t\t\t\t\t\t\t</StyledButtonSmallContent>\n\t\t\t\t\t\t\t</StyledButton>\n\n\t\t\t\t\t\t\t<AssertionButton\n\t\t\t\t\t\t\t\tdisabled={!isRecording}\n\t\t\t\t\t\t\t\tonClick={toggleAsserting}\n\t\t\t\t\t\t\t\tisAsserting={isAsserting}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AssertIcon />\n\t\t\t\t\t\t\t\t{isAsserting ? 'Choose element' : 'Add assertion'}\n\t\t\t\t\t\t\t</AssertionButton>\n\n\t\t\t\t\t\t\t<StyledButton onClick={resetInteractions} disabled={!code.play.length}>\n\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t</Group>\n\n\t\t\t\t\t\t{code.play.length > 0 && (\n\t\t\t\t\t\t\t<SaveStoryButton code={code} turnOffRecording={turnOffRecording} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</StyledSubnav>\n\t\t\t\t</Bar>\n\t\t\t</SubnavWrapper>\n\n\t\t\t<ContentWrapper\n\t\t\t\tref={codeBlocksRef}\n\t\t\t\tonScroll={(e) => {\n\t\t\t\t\tconst { scrollTop, scrollHeight, clientHeight } =\n\t\t\t\t\t\te.target as HTMLDivElement;\n\n\t\t\t\t\tsetIsScrolledToBottom(scrollTop + clientHeight >= scrollHeight);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{code.play.length === 0 && !isRecording && (\n\t\t\t\t\t<EmptyTabContent\n\t\t\t\t\t\ttitle=\"No interactions have been recorded.\"\n\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t<EmptyStateDescription>\n\t\t\t\t\t\t\t\tClick the record button\n\t\t\t\t\t\t\t\t<RecordIcon\n\t\t\t\t\t\t\t\t\tisRecording={false}\n\t\t\t\t\t\t\t\t\tonClick={toggleRecording}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\tto start recording.\n\t\t\t\t\t\t\t</EmptyStateDescription>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{code.play.length === 0 && isRecording && (\n\t\t\t\t\t<EmptyTabContent\n\t\t\t\t\t\ttitle=\"Recording is in progress...\"\n\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\tisAsserting\n\t\t\t\t\t\t\t\t? 'Click on elements to record assertions.'\n\t\t\t\t\t\t\t\t: 'Interact with the story to record events.'\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{code.play.length > 0 && (\n\t\t\t\t\t<CodeBlocksWrapper>\n\t\t\t\t\t\t<CodeBlock name=\"Imports\" codeLines={code.imports} />\n\n\t\t\t\t\t\t<CodeBlock name=\"Play Function\" codeLines={code.play} isSticky />\n\t\t\t\t\t</CodeBlocksWrapper>\n\t\t\t\t)}\n\t\t\t</ContentWrapper>\n\t\t</Container>\n\t);\n};\n","// biome-ignore lint/correctness/noUnusedImports: Must be here for react@19 and non-react projects support\nimport React from 'react';\nimport { addons, types } from 'storybook/internal/manager-api';\n\nimport { AddonPanel, Badge, Spaced } from 'storybook/internal/components';\nimport type { ResponseData } from 'storybook/internal/core-events';\nimport { InteractionRecorder } from './InteractionRecorder';\nimport { ADDON_ID, EVENTS, PANEL_ID } from './constants';\nimport type { SaveNewStoryResponsePayload } from './data';\nimport { useInteractions, useIsRecording } from './state';\n\nfunction Title() {\n\tconst [interactions] = useInteractions();\n\tconst [isRecording] = useIsRecording();\n\n\treturn (\n\t\t<div>\n\t\t\t<Spaced col={1}>\n\t\t\t\t<span style={{ display: 'inline-block', verticalAlign: 'middle' }}>\n\t\t\t\t\tInteraction Recorder\n\t\t\t\t</span>\n\t\t\t\t{isRecording && (\n\t\t\t\t\t<Badge status=\"neutral\">{JSON.parse(interactions).length}</Badge>\n\t\t\t\t)}\n\t\t\t</Spaced>\n\t\t</div>\n\t);\n}\n\naddons.register(ADDON_ID, (api) => {\n\tconst channel = api.getChannel();\n\n\tchannel?.on(\n\t\tEVENTS.SAVE_NEW_STORY_RESPONSE,\n\t\t(data: ResponseData<SaveNewStoryResponsePayload>) => {\n\t\t\tif (!data.success) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst story = api.getCurrentStoryData();\n\n\t\t\tif (story.type !== 'story') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tapi.resetStoryArgs(story);\n\t\t\tif (data.payload.newStoryId) {\n\t\t\t\tapi.selectStory(data.payload.newStoryId);\n\t\t\t}\n\t\t},\n\t);\n\n\taddons.add(PANEL_ID, {\n\t\ttype: types.PANEL,\n\t\ttitle: Title,\n\t\tmatch: ({ viewMode }) => viewMode === 'story',\n\t\trender: ({ active }) => (\n\t\t\t<AddonPanel active={active ?? false}>\n\t\t\t\t<InteractionRecorder />\n\t\t\t</AddonPanel>\n\t\t),\n\t});\n});\n"]}